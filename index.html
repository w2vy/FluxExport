<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FluxExport</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Main Heading -->
  <h1>FluxExport</h1>
  
  <!-- Form Section -->
  <div class="container">
    <h2>Flux Export Tool</h2>
    <p>This application runs in your browser, no addresses are sent to or stored in the server.</p>
    <form id="walletForm">
      <!-- Wallet Address Input -->
      <label for="address">Wallet Address:</label>
      <input 
        type="text" 
        id="address" 
        name="address" 
        placeholder="Enter Wallet Address" 
        required 
      />

      <!-- CSV Format Selector -->
      <label for="csvFormat">CSV Format:</label>
      <select id="csvFormat" name="csvFormat" required>
        <option value="CoinLedger">CoinLedger</option>
        <option value="Koinly" selected>Koinly</option>
        <option value="CoinTracker">CoinTracker</option>
      </select>

      <!-- Mining Summary Selector -->
      <label for="mintSummary">Mining Summary:</label>
      <select id="mintSummary" name="mintSummary" required>
        <option value="None" selected>None</option>
        <option value="Hourly">Hourly</option>
        <option value="Daily">Daily</option>
        <option value="Weekly">Weekly</option>
        <option value="Monthly">Monthly</option>
      </select>

      <!-- Start Date Input -->
      <label for="startDate">Start Date:</label>
      <input type="datetime-local" id="startDate" name="startDate" />
      <p class="field-help">Value saves when selected; click outside the picker to close it.</p>

      <!-- End Date Input -->
      <label for="endDate">End Date:</label>
      <input type="datetime-local" id="endDate" name="endDate" />
      <p class="field-help">Value saves when selected; click outside the picker to close it.</p>

      <!-- File Name Input -->
      <label for="filename">File Name:</label>
      <input 
        type="text" 
        id="filename" 
        name="filename" 
        required 
        placeholder="Enter file name (e.g., wallet_export.csv)" 
      />

      <!-- Submit Button -->
      <button type="submit">Get Wallet</button>
    </form>

    <!-- Status Message -->
    <div id="statusMessage" aria-live="polite">
      <p id="status">Waiting for updates...</p>
    </div>

    <!-- Download Button -->
    <button id="downloadBtn" disabled aria-disabled="true">Download CSV</button>
    <p id="downloadNotice" class="field-help" role="status" aria-live="polite"></p>
  </div>

  <section class="donations">
    <h3>Donations</h3>
    <p>Donations are very much appreciated.</p>
    <p> Please consider donating to keep the website development going.</p>
    <p><strong>Flux Address:</strong> t3hfSzkcsgJraindYiu7U8GNW7EhNS19x3c</p>
    <p><strong>BTC Address:</strong> bc1qhdj3e0rffsqmvsyztxdf53j729gaplf2sw24qjdqqu9axflkfugs6mlxyj</p>
    <div class="cache-controls">
      <button id="clearCacheBtn" type="button">Clear Cache</button>
      <p id="cacheInfo" aria-live="polite"></p>
    </div>
  </section>

  <!-- Script -->
  <script type="module" src="script.js"></script>

  <footer>
    <p>FluxExport ver __APP_VERSION__ &copy; 2025 Thomas A. Moulton, W2VY. All rights reserved.</p>
    <p>Support: Discord RunOnFlux @w2vy</p>
  </footer>
</body>
</html>
